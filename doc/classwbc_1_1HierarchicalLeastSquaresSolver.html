<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>wbc: wbc::HierarchicalLeastSquaresSolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">wbc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacewbc.html">wbc</a></li><li class="navelem"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html">HierarchicalLeastSquaresSolver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classwbc_1_1HierarchicalLeastSquaresSolver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">wbc::HierarchicalLeastSquaresSolver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of a hierarchical weighted damped least squares solver. This solver compute the solution for several hierarchially organized equation systems using nullspace projections. That is, the eqn system with the highest priority will be solved fully if n_rows &lt;= n_cols the eqn system of the next priority will be solved as good as possible and so on. The solver may also include weights in solution (column) and input (row) space.  
 <a href="classwbc_1_1HierarchicalLeastSquaresSolver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="HierarchicalLeastSquaresSolver_8hpp_source.html">HierarchicalLeastSquaresSolver.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for wbc::HierarchicalLeastSquaresSolver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classwbc_1_1HierarchicalLeastSquaresSolver.png" usemap="#wbc::HierarchicalLeastSquaresSolver_map" alt=""/>
  <map id="wbc::HierarchicalLeastSquaresSolver_map" name="wbc::HierarchicalLeastSquaresSolver_map">
<area href="classwbc_1_1Solver.html" alt="wbc::Solver" shape="rect" coords="0,0,224,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver_1_1PriorityData.html">PriorityData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The PriorityDataIntern class Manages all priority dependent information, i.e. all matrices that have to be resized according to the number of rows per priority.  <a href="classwbc_1_1HierarchicalLeastSquaresSolver_1_1PriorityData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab3026e22d65e3ff8e015f8b27628a674"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#ab3026e22d65e3ff8e015f8b27628a674">HierarchicalLeastSquaresSolver</a> ()</td></tr>
<tr class="separator:ab3026e22d65e3ff8e015f8b27628a674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60a36694f0c2f49601b872252e4fa6df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a60a36694f0c2f49601b872252e4fa6df">~HierarchicalLeastSquaresSolver</a> ()</td></tr>
<tr class="separator:a60a36694f0c2f49601b872252e4fa6df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab384dd263aba4250b96ef36e09d33c34"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#ab384dd263aba4250b96ef36e09d33c34">configure</a> (const std::vector&lt; int &gt; &amp;n_constraint_per_prio, const unsigned int n_joints)</td></tr>
<tr class="memdesc:ab384dd263aba4250b96ef36e09d33c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">configure Resizes member variables  <a href="#ab384dd263aba4250b96ef36e09d33c34">More...</a><br /></td></tr>
<tr class="separator:ab384dd263aba4250b96ef36e09d33c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854c45b2fe43a5bcf3dc40e1f3d78bf2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a854c45b2fe43a5bcf3dc40e1f3d78bf2">solve</a> (const <a class="el" href="classwbc_1_1OptProblem.html">OptProblem</a> &amp;opt_problem, base::VectorXd &amp;solver_output)</td></tr>
<tr class="memdesc:a854c45b2fe43a5bcf3dc40e1f3d78bf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">solve Compute optimal control solution  <a href="#a854c45b2fe43a5bcf3dc40e1f3d78bf2">More...</a><br /></td></tr>
<tr class="separator:a854c45b2fe43a5bcf3dc40e1f3d78bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b39bcfe0cc8735f0ce286421786c59f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a3b39bcfe0cc8735f0ce286421786c59f">setJointWeights</a> (const base::VectorXd &amp;weights, const uint prio)</td></tr>
<tr class="memdesc:a3b39bcfe0cc8735f0ce286421786c59f"><td class="mdescLeft">&#160;</td><td class="mdescRight">setJointWeights Sets the joint weight vector for the given priority  <a href="#a3b39bcfe0cc8735f0ce286421786c59f">More...</a><br /></td></tr>
<tr class="separator:a3b39bcfe0cc8735f0ce286421786c59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b632abadeb117796e87c296e3b6d3fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a7b632abadeb117796e87c296e3b6d3fe">setConstraintWeights</a> (const base::VectorXd &amp;weights, const uint prio)</td></tr>
<tr class="memdesc:a7b632abadeb117796e87c296e3b6d3fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">setConstraintWeights Sets the weights for the constraints of the given priority.  <a href="#a7b632abadeb117796e87c296e3b6d3fe">More...</a><br /></td></tr>
<tr class="separator:a7b632abadeb117796e87c296e3b6d3fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36baf650f62f3d8a208c5bc14e7d89b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a36baf650f62f3d8a208c5bc14e7d89b8">setMinEigenvalue</a> (double <a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a2fd837124fc101b726d3933a2887f035">min_eigenvalue</a>)</td></tr>
<tr class="memdesc:a36baf650f62f3d8a208c5bc14e7d89b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">setMinEigenvalue Sets the minimum Eigenvalue that is allowed to occur in normal (undamped) matrix inversion. This matrix inversion is used for nullspace projection. An Eigenvalue is set to zero if it smaller that min_eigenvalue for sake of numerical stability.  <a href="#a36baf650f62f3d8a208c5bc14e7d89b8">More...</a><br /></td></tr>
<tr class="separator:a36baf650f62f3d8a208c5bc14e7d89b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab81ab9d5921319ce19604955fe70559f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#ab81ab9d5921319ce19604955fe70559f">setMaxSolverOutputNorm</a> (double norm_max)</td></tr>
<tr class="memdesc:ab81ab9d5921319ce19604955fe70559f"><td class="mdescLeft">&#160;</td><td class="mdescRight">setMaxSolverOutputNorm Sets the maximum norm term. The solution of the solver will have a norm that is below this value. This value will be used to compute a suitable damping factor for matrix inversion.  <a href="#ab81ab9d5921319ce19604955fe70559f">More...</a><br /></td></tr>
<tr class="separator:ab81ab9d5921319ce19604955fe70559f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b9c31d6070738238a041204dbd026f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a3b9c31d6070738238a041204dbd026f2">setMaxSolverOutput</a> (const base::VectorXd &amp;<a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a3b3097f9e04c0354cd1ccc1a040f18b5">max_solver_output</a>)</td></tr>
<tr class="memdesc:a3b9c31d6070738238a041204dbd026f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">setMaxSolverOutput Set max. values for each entry of the solver output vector. If one value exceeds this maximum, all other values will be scaled accordingly.  <a href="#a3b9c31d6070738238a041204dbd026f2">More...</a><br /></td></tr>
<tr class="separator:a3b9c31d6070738238a041204dbd026f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f5552c5b4c141b78571abbaa3ec019"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#ab6f5552c5b4c141b78571abbaa3ec019">applySaturation</a> (base::VectorXd &amp;solver_output)</td></tr>
<tr class="memdesc:ab6f5552c5b4c141b78571abbaa3ec019"><td class="mdescLeft">&#160;</td><td class="mdescRight">applySaturation Apply maximum solver output.  <a href="#ab6f5552c5b4c141b78571abbaa3ec019">More...</a><br /></td></tr>
<tr class="separator:ab6f5552c5b4c141b78571abbaa3ec019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classwbc_1_1Solver"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classwbc_1_1Solver')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classwbc_1_1Solver.html">wbc::Solver</a></td></tr>
<tr class="memitem:a2bb777763b885754a80ede872d1bafbe inherit pub_methods_classwbc_1_1Solver"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1Solver.html#a2bb777763b885754a80ede872d1bafbe">Solver</a> ()</td></tr>
<tr class="separator:a2bb777763b885754a80ede872d1bafbe inherit pub_methods_classwbc_1_1Solver"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76b9b7b5603808fd1d80163c9d66e0f inherit pub_methods_classwbc_1_1Solver"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1Solver.html#ad76b9b7b5603808fd1d80163c9d66e0f">~Solver</a> ()</td></tr>
<tr class="separator:ad76b9b7b5603808fd1d80163c9d66e0f inherit pub_methods_classwbc_1_1Solver"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aae1440db3da88f4f472ce76763241112"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver_1_1PriorityData.html">PriorityData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#aae1440db3da88f4f472ce76763241112">priorities</a></td></tr>
<tr class="separator:aae1440db3da88f4f472ce76763241112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067576b320c5dd230c5324c5df8af777"><td class="memItemLeft" align="right" valign="top">base::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a067576b320c5dd230c5324c5df8af777">proj_mat</a></td></tr>
<tr class="separator:a067576b320c5dd230c5324c5df8af777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc02995ce5626451bd4d7ad1cd3ec01"><td class="memItemLeft" align="right" valign="top">base::VectorXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a6fc02995ce5626451bd4d7ad1cd3ec01">s_vals</a></td></tr>
<tr class="separator:a6fc02995ce5626451bd4d7ad1cd3ec01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6d963bc3d7c48dec303d8bd6a08e71"><td class="memItemLeft" align="right" valign="top">base::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a5b6d963bc3d7c48dec303d8bd6a08e71">s_vals_inv</a></td></tr>
<tr class="separator:a5b6d963bc3d7c48dec303d8bd6a08e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9d45e785ee418c1ba7a7dd6941d413"><td class="memItemLeft" align="right" valign="top">base::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#aeb9d45e785ee418c1ba7a7dd6941d413">sing_vect_r</a></td></tr>
<tr class="separator:aeb9d45e785ee418c1ba7a7dd6941d413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac12a448bd7fef108f2e0213c154c769f"><td class="memItemLeft" align="right" valign="top">base::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#ac12a448bd7fef108f2e0213c154c769f">damped_s_vals_inv</a></td></tr>
<tr class="separator:ac12a448bd7fef108f2e0213c154c769f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082ef5cd577df5d79ba093bfb327ac41"><td class="memItemLeft" align="right" valign="top">base::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a082ef5cd577df5d79ba093bfb327ac41">Wq_V</a></td></tr>
<tr class="separator:a082ef5cd577df5d79ba093bfb327ac41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19a2fe258dc63706283beb2be8c93fb8"><td class="memItemLeft" align="right" valign="top">base::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a19a2fe258dc63706283beb2be8c93fb8">Wq_V_s_vals_inv</a></td></tr>
<tr class="separator:a19a2fe258dc63706283beb2be8c93fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b132ef231a8572250112cc06f28d1a2"><td class="memItemLeft" align="right" valign="top">base::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a2b132ef231a8572250112cc06f28d1a2">Wq_V_damped_s_vals_inv</a></td></tr>
<tr class="separator:a2b132ef231a8572250112cc06f28d1a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33d21aad40e5890114d9b5550d851c23"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a33d21aad40e5890114d9b5550d851c23">no_of_joints</a></td></tr>
<tr class="separator:a33d21aad40e5890114d9b5550d851c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3ebebd6a46ea77611a0a0767b7f907"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#aac3ebebd6a46ea77611a0a0767b7f907">configured</a></td></tr>
<tr class="separator:aac3ebebd6a46ea77611a0a0767b7f907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b3097f9e04c0354cd1ccc1a040f18b5"><td class="memItemLeft" align="right" valign="top">base::VectorXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a3b3097f9e04c0354cd1ccc1a040f18b5">max_solver_output</a></td></tr>
<tr class="separator:a3b3097f9e04c0354cd1ccc1a040f18b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd837124fc101b726d3933a2887f035"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a2fd837124fc101b726d3933a2887f035">min_eigenvalue</a></td></tr>
<tr class="separator:a2fd837124fc101b726d3933a2887f035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da95d6d88efc774b0501a4122d841d6"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a6da95d6d88efc774b0501a4122d841d6">max_solver_output_norm</a></td></tr>
<tr class="separator:a6da95d6d88efc774b0501a4122d841d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158033eadf0740f26a05bce1cb5a6296"><td class="memItemLeft" align="right" valign="top">base::VectorXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver.html#a158033eadf0740f26a05bce1cb5a6296">tmp</a></td></tr>
<tr class="separator:a158033eadf0740f26a05bce1cb5a6296"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of a hierarchical weighted damped least squares solver. This solver compute the solution for several hierarchially organized equation systems using nullspace projections. That is, the eqn system with the highest priority will be solved fully if n_rows &lt;= n_cols the eqn system of the next priority will be solved as good as possible and so on. The solver may also include weights in solution (column) and input (row) space. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab3026e22d65e3ff8e015f8b27628a674"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wbc::HierarchicalLeastSquaresSolver::HierarchicalLeastSquaresSolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a60a36694f0c2f49601b872252e4fa6df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wbc::HierarchicalLeastSquaresSolver::~HierarchicalLeastSquaresSolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab6f5552c5b4c141b78571abbaa3ec019"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wbc::HierarchicalLeastSquaresSolver::applySaturation </td>
          <td>(</td>
          <td class="paramtype">base::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>solver_output</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>applySaturation Apply maximum solver output. </p>

</div>
</div>
<a class="anchor" id="ab384dd263aba4250b96ef36e09d33c34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool wbc::HierarchicalLeastSquaresSolver::configure </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>n_constraint_per_prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>n_joints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>configure Resizes member variables </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">constraint_variables_per_prio</td><td>Number of constraint variables per priority, i.e. number of row of the constraint <a class="el" href="classwbc_1_1Jacobian.html">Jacobian</a> of that priority </td></tr>
    <tr><td class="paramname">no_of_joints</td><td>Number of robot joints </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true in case of successful initialization, false otherwise </dd></dl>

<p>Implements <a class="el" href="classwbc_1_1Solver.html#a4ba0f411761de18c17740c68af2e27ac">wbc::Solver</a>.</p>

</div>
</div>
<a class="anchor" id="a7b632abadeb117796e87c296e3b6d3fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wbc::HierarchicalLeastSquaresSolver::setConstraintWeights </td>
          <td>(</td>
          <td class="paramtype">const base::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint&#160;</td>
          <td class="paramname"><em>prio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setConstraintWeights Sets the weights for the constraints of the given priority. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">weights</td><td>Size has to be same number of constraint variables of that priority. </td></tr>
    <tr><td class="paramname">prio</td><td>Priority the constraint weight vector should be applied to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3b39bcfe0cc8735f0ce286421786c59f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wbc::HierarchicalLeastSquaresSolver::setJointWeights </td>
          <td>(</td>
          <td class="paramtype">const base::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint&#160;</td>
          <td class="paramname"><em>prio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setJointWeights Sets the joint weight vector for the given priority </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">weights</td><td>Has to have same size as number of joints. Values have to be &gt;= 0! A values of 0 means that the joint does not contribute to the solution at all. </td></tr>
    <tr><td class="paramname">prio</td><td>Priority the joint weight vector should be applied to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3b9c31d6070738238a041204dbd026f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wbc::HierarchicalLeastSquaresSolver::setMaxSolverOutput </td>
          <td>(</td>
          <td class="paramtype">const base::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>max_solver_output</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setMaxSolverOutput Set max. values for each entry of the solver output vector. If one value exceeds this maximum, all other values will be scaled accordingly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_solver_output</td><td>Entries have to be &gt; 0! Size has to be same as number of joints. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab81ab9d5921319ce19604955fe70559f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wbc::HierarchicalLeastSquaresSolver::setMaxSolverOutputNorm </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>norm_max</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setMaxSolverOutputNorm Sets the maximum norm term. The solution of the solver will have a norm that is below this value. This value will be used to compute a suitable damping factor for matrix inversion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">norm_max</td><td>Maximum output norm. Has to be &gt; 0! </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a36baf650f62f3d8a208c5bc14e7d89b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wbc::HierarchicalLeastSquaresSolver::setMinEigenvalue </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>min_eigenvalue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setMinEigenvalue Sets the minimum Eigenvalue that is allowed to occur in normal (undamped) matrix inversion. This matrix inversion is used for nullspace projection. An Eigenvalue is set to zero if it smaller that min_eigenvalue for sake of numerical stability. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min_eigenvalue</td><td>Has to be &gt; 0 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a854c45b2fe43a5bcf3dc40e1f3d78bf2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void wbc::HierarchicalLeastSquaresSolver::solve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwbc_1_1OptProblem.html">OptProblem</a> &amp;&#160;</td>
          <td class="paramname"><em>opt_problem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">base::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>solver_output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>solve Compute optimal control solution </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">linear_eqn_pp</td><td>A Linear equation system, sorted by priority </td></tr>
    <tr><td class="paramname">x</td><td>solution </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classwbc_1_1Solver.html#a0af333ec08f09ad86f10536ff2d7d455">wbc::Solver</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aac3ebebd6a46ea77611a0a0767b7f907"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool wbc::HierarchicalLeastSquaresSolver::configured</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of joints </p>

</div>
</div>
<a class="anchor" id="ac12a448bd7fef108f2e0213c154c769f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">base::MatrixXd wbc::HierarchicalLeastSquaresSolver::damped_s_vals_inv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Matrix of right singular vectors </p>

</div>
</div>
<a class="anchor" id="a3b3097f9e04c0354cd1ccc1a040f18b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">base::VectorXd wbc::HierarchicalLeastSquaresSolver::max_solver_output</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Has configure been called yet? </p>

</div>
</div>
<a class="anchor" id="a6da95d6d88efc774b0501a4122d841d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double wbc::HierarchicalLeastSquaresSolver::max_solver_output_norm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Precision for eigenvalue inversion. Inverse of an Eigenvalue smaller than this will be set to zero </p>

</div>
</div>
<a class="anchor" id="a2fd837124fc101b726d3933a2887f035"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double wbc::HierarchicalLeastSquaresSolver::min_eigenvalue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Max. output of the solver. If one value exceeds this maximum, all other values will be scaled accordingly </p>

</div>
</div>
<a class="anchor" id="a33d21aad40e5890114d9b5550d851c23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int wbc::HierarchicalLeastSquaresSolver::no_of_joints</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Wq_V * damped_s_vals_inv </p>

</div>
</div>
<a class="anchor" id="aae1440db3da88f4f472ce76763241112"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classwbc_1_1HierarchicalLeastSquaresSolver_1_1PriorityData.html">PriorityData</a>&gt; wbc::HierarchicalLeastSquaresSolver::priorities</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a067576b320c5dd230c5324c5df8af777"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">base::MatrixXd wbc::HierarchicalLeastSquaresSolver::proj_mat</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Contains priority specific matrices etc. </p>

</div>
</div>
<a class="anchor" id="a6fc02995ce5626451bd4d7ad1cd3ec01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">base::VectorXd wbc::HierarchicalLeastSquaresSolver::s_vals</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Projection Matrix that performs the nullspace projection onto the next lower priority </p>

</div>
</div>
<a class="anchor" id="a5b6d963bc3d7c48dec303d8bd6a08e71"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">base::MatrixXd wbc::HierarchicalLeastSquaresSolver::s_vals_inv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Singular value vector </p>

</div>
</div>
<a class="anchor" id="aeb9d45e785ee418c1ba7a7dd6941d413"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">base::MatrixXd wbc::HierarchicalLeastSquaresSolver::sing_vect_r</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Diagonal matrix containing the reciprocal singular values </p>

</div>
</div>
<a class="anchor" id="a158033eadf0740f26a05bce1cb5a6296"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">base::VectorXd wbc::HierarchicalLeastSquaresSolver::tmp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum norm of (J#) * y </p>

</div>
</div>
<a class="anchor" id="a082ef5cd577df5d79ba093bfb327ac41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">base::MatrixXd wbc::HierarchicalLeastSquaresSolver::Wq_V</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Diagonal matrix containing the reciprocal singular values with damping </p>

</div>
</div>
<a class="anchor" id="a2b132ef231a8572250112cc06f28d1a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">base::MatrixXd wbc::HierarchicalLeastSquaresSolver::Wq_V_damped_s_vals_inv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Wq_V * s_vals_inv </p>

</div>
</div>
<a class="anchor" id="a19a2fe258dc63706283beb2be8c93fb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">base::MatrixXd wbc::HierarchicalLeastSquaresSolver::Wq_V_s_vals_inv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Column weight matrix times Matrix of Vectors of right singular vectors </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/dfki.uni-bremen.de/dmronga/rock_dev/control/wbc/src/<a class="el" href="HierarchicalLeastSquaresSolver_8hpp_source.html">HierarchicalLeastSquaresSolver.hpp</a></li>
<li>/home/dfki.uni-bremen.de/dmronga/rock_dev/control/wbc/src/<a class="el" href="HierarchicalLeastSquaresSolver_8cpp.html">HierarchicalLeastSquaresSolver.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
